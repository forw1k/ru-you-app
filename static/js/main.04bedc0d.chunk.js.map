{"version":3,"sources":["components/Icons/icons.svg","reducers/index.js","components/Icons/index.js","components/Palette/index.jsx","actions/index.js","components/Form/index.jsx","components/App/index.jsx","index.js"],"names":["module","exports","initialState","Icons","name","color","width","height","className","fill","stroke","xlinkHref","IconsSVG","Palette","useState","displayColorPicker","setDisplayColorPicker","chosenColor","setChosenColor","state","useStore","getState","JSON","stringify","Date","now","id","setId","dispatch","useDispatch","map","item","key","style","backgroundColor","onClick","editColor","type","deleteItemAction","deleteItem","position","zIndex","top","right","bottom","left","onChange","updateColor","hex","updateColorAction","Form","image","setImage","response","setResponse","useForm","register","handleSubmit","onSubmit","data","a","formId","formContact","surname","patronymic","formData","FormData","append","fetch","method","headers","body","res","ok","json","console","error","status","placeholder","ref","required","htmlFor","src","alt","e","target","files","length","URL","createObjectURL","accept","value","cols","rows","defaultValue","readOnly","App","to","exact","activeClassName","path","store","createStore","action","index","findIndex","splice","window","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.04bedc0d.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/icons.e33e99d5.svg\";","import { ADD_COLOR, UPDATE_COLOR, DELETE_ITEM } from \"../actions\";\r\n\r\nconst initialState = [];\r\n\r\nexport default function (state = initialState, action) {\r\n  switch (action.type) {\r\n    case ADD_COLOR:\r\n      return [...state, action.color];\r\n    case UPDATE_COLOR:\r\n      return state.map((item) =>\r\n        item.id === action.id ? { ...item, color: action.color } : item\r\n      );\r\n    case DELETE_ITEM: {\r\n      const index = state.findIndex(item => item.id === action.id)\r\n      return state.splice(0, index)\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n","import React from \"react\";\r\nimport IconsSVG from \"./icons.svg\";\r\n\r\nconst Icons = ({ name, color, width, height, className }) => {\r\n  return (\r\n    <svg\r\n      className={`icon icon-${name} ${className}`}\r\n      fill={color}\r\n      stroke={color}\r\n      width={width}\r\n      height={height}\r\n    >\r\n      <use xlinkHref={`${IconsSVG}#icon-${name}`} />\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default Icons;","import React, { useState } from \"react\";\nimport { useDispatch, useStore } from \"react-redux\";\nimport { ChromePicker } from \"react-color\";\nimport Icons from \"../Icons\";\nimport \"./styles.scss\";\nimport {\n  addColorAction,\n  updateColorAction,\n  deleteItemAction,\n} from \"../../actions\";\n\nconst Palette = () => {\n  const [displayColorPicker, setDisplayColorPicker] = useState(false);\n  const [chosenColor, setChosenColor] = useState(\"#fff\");\n  const state = useStore().getState();\n  const [id, setId] = useState(JSON.stringify(Date.now()));\n  const dispatch = useDispatch();\n  const popover = {\n    position: \"absolute\",\n    zIndex: \"2\",\n  };\n  const cover = {\n    position: \"fixed\",\n    top: \"0px\",\n    right: \"0px\",\n    bottom: \"0px\",\n    left: \"0px\",\n  };\n\n  const handleClick = () => {\n    setDisplayColorPicker(!displayColorPicker);\n    dispatch(addColorAction({ id, color: chosenColor }));\n  };\n  const handleClose = () => {\n    setId(JSON.stringify(Date.now()));\n    setDisplayColorPicker(false);\n    setChosenColor(\"#fff\");\n  };\n  const editColor = (id) => {\n    setDisplayColorPicker(!displayColorPicker);\n    setId(id);\n  };\n  const deleteItem = (id) => {\n    dispatch(deleteItemAction(id));\n  }\n\n  return (\n    <div className=\"palette\">\n      <ul className=\"palette-list\">\n        {state.map((item) => (\n          <li\n            key={item.id}\n            className=\"palette-list__item\"\n            style={{ backgroundColor: item.color }}\n            onClick={() => editColor(item.id)}\n          >\n            <div className=\"btn-close\"\n            onClick={() => deleteItem(item.id)}>\n              <Icons\n                name=\"close\"\n                className=\"btn-close__pic\"\n              />\n            </div>\n          </li>\n        ))}\n      </ul>\n      <div className=\"palette-controls\">\n        <button className=\"btn\" onClick={handleClick}>\n          Добавить цвет\n        </button>\n        {displayColorPicker ? (\n          <div style={popover}>\n            <div style={cover} onClick={handleClose} />\n            <ChromePicker\n              color={chosenColor}\n              onChange={(updateColor) => {\n                setChosenColor(updateColor.hex);\n                dispatch(updateColorAction(id, updateColor.hex));\n              }}\n            />\n          </div>\n        ) : null}\n      </div>\n    </div>\n  );\n};\n\nexport default Palette;\n","export const ADD_COLOR = \"ADD_COLOR\";\r\nexport const UPDATE_COLOR = \"UPDATE_COLOR\";\r\nexport const DELETE_ITEM = \"DELETE_ITEM\"\r\n\r\nexport const addColorAction = (color) => ({\r\n  type: ADD_COLOR,\r\n  color,\r\n});\r\n\r\nexport const updateColorAction = (id, color) => ({\r\n  type: UPDATE_COLOR,\r\n  color,\r\n  id,\r\n});\r\n\r\nexport const deleteItemAction = (id) => ({\r\n  type: DELETE_ITEM,\r\n  id,\r\n})","import React, { useState, Fragment } from \"react\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport Icons from \"../Icons\";\r\n\r\nconst Form = () => {\r\n  const [image, setImage] = useState(\"\");\r\n  const [response, setResponse] = useState(\"\");\r\n  const { register, handleSubmit } = useForm();\r\n  const onSubmit = async (data) => {\r\n    const formId = JSON.stringify(Date.now());\r\n    const formContact = JSON.stringify([\r\n      data.name,\r\n      data.surname,\r\n      data.patronymic,\r\n    ]);\r\n    const formData = new FormData();\r\n    formData.append(\"id\", formId);\r\n    formData.append(\"image\", data.image[0]);\r\n    formData.append(\"contact\", formContact);\r\n\r\n    const res = await fetch(\"https://test-job.pixli.app/send.php\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"multipart/form-data\",\r\n      },\r\n      body: formData,\r\n    });\r\n\r\n    if (res.ok) {\r\n      let json = await res.json();\r\n      setResponse(JSON.stringify(json));\r\n    } else {\r\n      console.error(\"Ошибка HTTP: \" + response.status);\r\n    }\r\n  };\r\n  const handleChange = (e) => {\r\n    if (e.target.files.length) {\r\n      setImage(URL.createObjectURL(e.target.files[0]));\r\n    }\r\n  };\r\n  return (\r\n    <form onSubmit={handleSubmit(onSubmit)} className=\"form\">\r\n      <div className=\"form__col\">\r\n        <div className=\"form__col-title\">Имя</div>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"name\"\r\n          name=\"name\"\r\n          className=\"form__input\"\r\n          ref={register}\r\n          required\r\n        />\r\n      </div>\r\n      <div className=\"form__col\">\r\n        <div className=\"form__col-title\">Фамилия</div>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"surname\"\r\n          name=\"surname\"\r\n          className=\"form__input\"\r\n          ref={register}\r\n          required\r\n        />\r\n      </div>\r\n      <div className=\"form__col\">\r\n        <div className=\"form__col-title\">Отчество</div>\r\n        <input\r\n          type=\"text\"\r\n          placeholder=\"patronymic\"\r\n          name=\"patronymic\"\r\n          className=\"form__input\"\r\n          ref={register}\r\n        />\r\n      </div>\r\n      <div className=\"form__col\">\r\n        <label htmlFor=\"upload-button\" className=\"upload__label\">\r\n          <span className=\"form__col-title\">Фото</span>\r\n          {image ? (\r\n            <img src={image} alt=\"\" width=\"60px\" height=\"56px\" />\r\n          ) : (\r\n            <Fragment>\r\n              <div className=\"svg-img\">\r\n                <Icons\r\n                  name=\"uploadImg\"\r\n                  color=\"rgba(235,235,245,0.6)\"\r\n                  width=\"60\"\r\n                  height=\"56\"\r\n                  className=\"svg-img__pic\"\r\n                />\r\n              </div>\r\n            </Fragment>\r\n          )}\r\n        </label>\r\n        <input\r\n          type=\"file\"\r\n          name=\"image\"\r\n          id=\"upload-button\"\r\n          onChange={handleChange}\r\n          accept=\".jpg, .jpeg, .png, .gif, .bmp, .svg\"\r\n          className=\"upload-button\"\r\n          ref={register}\r\n        />\r\n      </div>\r\n      <input type=\"submit\" className=\"btn\" value=\"Сохранить\" />\r\n      <div className=\"form__col\">\r\n        <div className=\"form__col-title\">Response</div>\r\n        <textarea\r\n          className=\"form__textarea\"\r\n          name=\"\"\r\n          id=\"\"\r\n          cols=\"30\"\r\n          rows=\"10\"\r\n          defaultValue={response}\r\n          readOnly\r\n        />\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n","import React from \"react\";\r\nimport \"./styles.scss\";\r\nimport Palette from \"../Palette\";\r\nimport Form from \"../Form\";\r\nimport { BrowserRouter as Router, Switch, Route, Link, useRouteMatch, NavLink } from \"react-router-dom\";\r\n\r\nconst App = () => {\r\n\r\n  return (\r\n    <div className=\"wrapper\">\r\n      <div className=\"container\">\r\n        <div className=\"content\">\r\n          <Router>\r\n            <div className=\"switch\">\r\n              <div className=\"switch__form\">\r\n                <NavLink to=\"/\" exact activeClassName=\"underline\" className=\"switch__form-link\">Форма</NavLink>\r\n              </div>\r\n              <div className=\"switch__palette\">\r\n                <NavLink to=\"/Palette\" exact activeClassName=\"underline\" className=\"switch__form-link\">Палитра</NavLink>\r\n              </div>\r\n            </div>\r\n            <Switch>\r\n              <Route path=\"/Palette\">\r\n                <Palette />\r\n              </Route>\r\n              <Route path=\"/\">\r\n                <Form />\r\n              </Route>\r\n            </Switch>\r\n          </Router>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\nexport default App;\r\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { createStore } from \"redux\";\nimport { Provider } from \"react-redux\";\nimport reducer from \"./reducers\";\n\nimport App from \"./components/App\";\nimport \"./index.scss\";\n\nconst store = createStore(\n  reducer,\n  window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__()\n);\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}